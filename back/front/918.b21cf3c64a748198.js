"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[918],{918:(N,y,a)=>{a.r(y),a.d(y,{SettingsModule:()=>A});var r=a(1368),I=a(5152),t=a(4496),f=a(180),S=a(6928),G=a(6684),c=a(5544),s=a(6504),p=a(2476),l=function(n){return n.server_ini="server_ini",n.lua_sandbox="lua_sandbox",n}(l||{}),d=a(7532),x=a(9040);let h=(()=>{class n{constructor(){this.code=null,this.editorOptions={autoIndent:!0,formatOnPaste:!0,formatOnType:!0,theme:"vs-dark",language:"lua"}}set language(i){this.editorOptions.language=i}writeValue(i){this.code=i}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-lua-editor"]],inputs:{language:"language"},features:[t.M5G([{provide:s.Y6,useExisting:(0,t.wd)(()=>n),multi:!0}])],decls:1,vars:2,consts:[[1,"my-code-editor",3,"options","ngModel","ngModelChange"]],template:function(e,o){1&e&&(t.I0R(0,"ngx-monaco-editor",0),t.qCj("ngModelChange",function(m){return o.onChange(m)}),t.iHE("ngModelChange",function(m){return t.kNx(o.code,m)||(o.code=m),m}),t.C$Y()),2&e&&(t.E7m("options",o.editorOptions),t.OKB("ngModel",o.code))},dependencies:[s.ue,s._G,x.gZ],styles:[".my-code-editor[_ngcontent-%COMP%]{height:calc(100vh - 240px)}"]})}return n})();var E=a(9148),C=a(964),b=a(7816),v=a(1560);let T=(()=>{class n{constructor(i,e){this.store=i,this.fb=e,this.iniForm=this.fb.group({config:["",s.AQ.required]}),this.iniConfig$=null,this.subscription=new S.wH,this.initialConfig=null,this.loading$=this.store.select(o=>o.pzStore.loading)}ngOnInit(){this.iniConfig$=this.store.select(p.w3),this.subscription.add(this.iniConfig$.pipe((0,G.I)(i=>!!i)).subscribe(i=>{this.initialConfig=i,this.iniForm.patchValue({config:i}),p.w3.release()})),this.store.dispatch((0,c.eE)({configType:l.server_ini}))}ngOnDestroy(){this.subscription.unsubscribe()}saveConfig(){this.store.dispatch((0,c.So)({content:this.iniForm.get("config").value,filetype:l.server_ini}))}refreshConfig(){this.iniForm.patchValue({config:this.initialConfig})}static#t=this.\u0275fac=function(e){return new(e||n)(t.GI1(d.m_),t.GI1(s.im))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-ini-server"]],decls:10,vars:4,consts:[[3,"isLoading"],[3,"formGroup"],["mat-icon-button","","type","submit","aria-label","save icon",1,"favorite-icon",3,"disabled","click"],["mat-icon-button","","type","button","aria-label","refresh icon",1,"favorite-icon",3,"click"],["formControlName","config",3,"language"]],template:function(e,o){1&e&&(t.wR5(0,"app-spinner",0),t.I0R(1,"form",1)(2,"mat-toolbar")(3,"button",2),t.qCj("click",function(){return o.saveConfig()}),t.I0R(4,"mat-icon"),t.OEk(5,"save"),t.C$Y()(),t.I0R(6,"button",3),t.qCj("click",function(){return o.refreshConfig()}),t.I0R(7,"mat-icon"),t.OEk(8,"refresh"),t.C$Y()()(),t.wR5(9,"app-lua-editor",4),t.C$Y()),2&e&&(t.E7m("isLoading",o.loading$),t.yG2(),t.E7m("formGroup",o.iniForm),t.yG2(2),t.E7m("disabled",!o.iniForm.valid),t.yG2(6),t.E7m("language","ini"))},dependencies:[h,E.i,s.sz,s.ue,s.u,s.uW,s.Wo,C.EZ,b.um,v.qL]})}return n})();function F(n,g){1&n&&(t.SAx(0),t.wR5(1,"app-lua-editor",6),t.k70()),2&n&&(t.yG2(),t.E7m("language","json"))}function O(n,g){if(1&n){const i=t.KQA();t.I0R(0,"form",2)(1,"mat-toolbar")(2,"button",3),t.qCj("click",function(){t.usT(i);const o=t.GaO();return t.CGJ(o.saveConfig())}),t.I0R(3,"mat-icon"),t.OEk(4,"save"),t.C$Y()(),t.I0R(5,"button",4),t.qCj("click",function(){t.usT(i);const o=t.GaO();return t.CGJ(o.refreshConfig())}),t.I0R(6,"mat-icon"),t.OEk(7,"refresh"),t.C$Y()()(),t.yuY(8,F,2,1,"ng-container",5),t.wVc(9,"async"),t.C$Y()}if(2&n){const i=t.GaO();t.E7m("formGroup",i.iniForm),t.yG2(2),t.E7m("disabled",!i.iniForm.valid),t.yG2(6),t.E7m("ngIf",t.kDX(9,3,i.iniConfig$))}}let R=(()=>{class n{constructor(i,e){this.store=i,this.fb=e,this.iniConfig$=this.store.select(p.BE),this.subscription=new S.wH,this.initialConfig=null,this.loading$=this.store.select(o=>o.pzStore.loading),this.iniForm=this.fb.group({config:[null,[s.AQ.required]]})}ngOnInit(){this.subscription.add(this.iniConfig$.pipe((0,G.I)(i=>!!i)).subscribe(i=>{this.initialConfig=i,this.iniForm.patchValue({config:JSON.stringify(i,null,"\t")})}))}ngOnDestroy(){this.subscription.unsubscribe()}saveConfig(){this.store.dispatch((0,c.ID)({content:JSON.parse(this.iniForm.get("config").value)}))}refreshConfig(){this.iniForm.patchValue({config:this.initialConfig})}static#t=this.\u0275fac=function(e){return new(e||n)(t.GI1(d.m_),t.GI1(s.im))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-manager-settings"]],decls:2,vars:2,consts:[[3,"isLoading"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["mat-icon-button","","type","submit","aria-label","save icon",1,"favorite-icon",3,"disabled","click"],["mat-icon-button","","type","button","aria-label","refresh icon",1,"favorite-icon",3,"click"],[4,"ngIf"],["formControlName","config",3,"language"]],template:function(e,o){1&e&&(t.wR5(0,"app-spinner",0),t.yuY(1,O,10,5,"form",1)),2&e&&(t.E7m("isLoading",o.loading$),t.yG2(),t.E7m("ngIf",o.iniForm))},dependencies:[r.u_,h,E.i,s.sz,s.ue,s.u,s.uW,s.Wo,C.EZ,b.um,v.qL,r.a]})}return n})();var $=a(9212);function _(n,g){1&n&&(t.SAx(0),t.wR5(1,"app-lua-editor",4),t.k70())}let M=(()=>{class n{constructor(i,e){this.store=i,this.fb=e,this.sandboxSettings$=this.store.select(o=>o.pzStore.lua_sandbox).pipe((0,$.y)(o=>this.iniForm.patchValue({config:o}))),this.iniForm=this.fb.group({config:["",s.AQ.required]}),this.initialConfig=null}ngOnInit(){this.store.dispatch((0,c.eE)({configType:l.lua_sandbox}))}saveConfig(){this.store.dispatch((0,c.So)({content:this.iniForm.get("config").value,filetype:l.lua_sandbox}))}refreshConfig(){this.iniForm.patchValue({config:this.initialConfig})}static#t=this.\u0275fac=function(e){return new(e||n)(t.GI1(d.m_),t.GI1(s.im))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-sandbox-settings"]],decls:10,vars:5,consts:[[3,"formGroup"],["mat-icon-button","","type","submit","aria-label","save icon",1,"favorite-icon",3,"disabled","click"],["mat-icon-button","","type","button","aria-label","refresh icon",1,"favorite-icon",3,"click"],[4,"ngIf"],["formControlName","config"]],template:function(e,o){1&e&&(t.I0R(0,"form",0)(1,"mat-toolbar")(2,"button",1),t.qCj("click",function(){return o.saveConfig()}),t.I0R(3,"mat-icon"),t.OEk(4,"save"),t.C$Y()(),t.I0R(5,"button",2),t.qCj("click",function(){return o.refreshConfig()}),t.I0R(6,"mat-icon"),t.OEk(7,"refresh"),t.C$Y()()(),t.yuY(8,_,2,0,"ng-container",3),t.wVc(9,"async"),t.C$Y()),2&e&&(t.E7m("formGroup",o.iniForm),t.yG2(2),t.E7m("disabled",!o.iniForm.valid),t.yG2(6),t.E7m("ngIf",t.kDX(9,3,o.sandboxSettings$)))},dependencies:[r.u_,h,s.sz,s.ue,s.u,s.uW,s.Wo,C.EZ,b.um,v.qL,r.a]})}return n})();function Y(n,g){1&n&&t.wR5(0,"app-sandbox-settings")}function k(n,g){1&n&&t.wR5(0,"app-manager-settings")}const L=[{path:"",component:(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-index"]],decls:7,vars:0,consts:[["label","INI server"],["label","Sandbox LUA"],["matTabContent",""],["label","Manager settings"]],template:function(e,o){1&e&&(t.I0R(0,"mat-tab-group")(1,"mat-tab",0),t.wR5(2,"app-ini-server"),t.C$Y(),t.I0R(3,"mat-tab",1),t.yuY(4,Y,1,0,"ng-template",2),t.C$Y(),t.I0R(5,"mat-tab",3),t.yuY(6,k,1,0,"ng-template",2),t.C$Y()())},dependencies:[f.ey,f.aJ,f._q,T,R,M]})}return n})()}];let j=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.a4G({type:n});static#i=this.\u0275inj=t.s3X({imports:[I.qQ.forChild(L),I.qQ]})}return n})();var V=a(9280),w=a(5664);let A=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.a4G({type:n});static#i=this.\u0275inj=t.s3X({imports:[r.MD,V.k,s.sl,w.y,j]})}return n})()}}]);