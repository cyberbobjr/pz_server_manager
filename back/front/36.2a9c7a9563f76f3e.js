"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[36],{7036:(F,f,r)=>{r.r(f),r.d(f,{DashboardModule:()=>A});var i=r(1368),h=r(5152),t=r(4496),u=r(2080),a=r(6504),m=r(5544),p=r(7532),S=r(768),C=r(7536);function g(n,c){if(1&n&&(t.I0R(0,"mat-form-field",4),t.wR5(1,"textarea",5),t.C$Y()),2&n){const s=c.ngIf;t.yG2(),t.E7m("ngModel",s)}}let v=(()=>{class n{constructor(s,e){this.store=s,this.fb=e,this.commandForm=this.fb.group({command:[null,[a.AQ.required]]}),this.commandResult$=this.store.select(o=>o.pzStore.commandResult)}sendCommand(){this.store.dispatch((0,m.uC)({command:this.commandForm.value.command}))}static#t=this.\u0275fac=function(e){return new(e||n)(t.GI1(p.m_),t.GI1(a.im))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-server-send-command"]],decls:5,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"full-width-input",3,"hideRequiredMarker"],["matInput","","formControlName","command"],["class","full-width-input",4,"ngIf"],[1,"full-width-input"],["rows","8","matInput","","readonly","",3,"ngModel"]],template:function(e,o){1&e&&(t.I0R(0,"form",0),t.qCj("ngSubmit",function(){return o.sendCommand()}),t.I0R(1,"mat-form-field",1),t.wR5(2,"input",2),t.C$Y()(),t.yuY(3,g,2,1,"mat-form-field",3),t.wVc(4,"async")),2&e&&(t.E7m("formGroup",o.commandForm),t.yG2(),t.E7m("hideRequiredMarker",!1),t.yG2(2),t.E7m("ngIf",t.kDX(4,3,o.commandResult$)))},dependencies:[i.u_,a.sz,a.ot,a.ue,a.u,a.uW,a.Wo,a._G,S.Up,C.yi,i.a],styles:[".full-width-input[_ngcontent-%COMP%]{width:100%}"]})}return n})();var l=r(5136),_=r(7816);function y(n,c){if(1&n){const s=t.KQA();t.I0R(0,"button",6),t.qCj("click",function(){t.usT(s);const o=t.GaO(2);return t.CGJ(o.stop())}),t.OEk(1," stop "),t.C$Y()}}function I(n,c){if(1&n){const s=t.KQA();t.I0R(0,"button",6),t.qCj("click",function(){t.usT(s);const o=t.GaO(2);return t.CGJ(o.start())}),t.OEk(1," start "),t.C$Y()}}function R(n,c){if(1&n){const s=t.KQA();t.SAx(0),t.yuY(1,y,2,0,"button",3)(2,I,2,0,"ng-template",null,4,t.gJz),t.I0R(4,"button",5),t.qCj("click",function(){t.usT(s);const o=t.GaO();return t.CGJ(o.restart())}),t.OEk(5," restart "),t.C$Y(),t.k70()}if(2&n){const s=c.ngIf,e=t.Gew(3);t.yG2(),t.E7m("ngIf",s.server_started)("ngIfElse",e)}}let T=(()=>{class n{constructor(s){this.store=s,this.status$=this.store.select(e=>e.pzStore.status)}forceStop(){this.store.dispatch((0,m.Mr)({action:l.s.FORCESTOP}))}stop(){this.store.dispatch((0,m.Mr)({action:l.s.STOP}))}start(){this.store.dispatch((0,m.Mr)({action:l.s.START}))}restart(){this.store.dispatch((0,m.Mr)({action:l.s.RESTART}))}static#t=this.\u0275fac=function(e){return new(e||n)(t.GI1(p.m_))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-stop-start-restart"]],decls:5,vars:3,consts:[[1,"flex-column"],[4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click",4,"ngIf","ngIfElse"],["notstarted",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,o){1&e&&(t.I0R(0,"div",0),t.yuY(1,R,6,2,"ng-container",1),t.wVc(2,"async"),t.I0R(3,"button",2),t.qCj("click",function(){return o.forceStop()}),t.OEk(4,"Force stop"),t.C$Y()()),2&e&&(t.yG2(),t.E7m("ngIf",t.kDX(2,1,o.status$)))},dependencies:[i.u_,_.Gw,i.a],styles:[".flex-column[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:5px}"]})}return n})();var G=r(6928),b=r(1496);let E=(()=>{class n{transform(s,...e){return s?1e3*s:null}static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275pipe=t.UTH({name:"runningTime",type:n,pure:!0,standalone:!0})}return n})();function O(n,c){if(1&n&&(t.I0R(0,"span"),t.OEk(1),t.wR5(2,"br"),t.C$Y()),2&n){const s=t.GaO().ngIf;t.yG2(),t.oRS("Process running : ",s.server_started,"")}}function $(n,c){if(1&n&&(t.I0R(0,"span"),t.OEk(1),t.wVc(2,"date"),t.wVc(3,"runningTime"),t.wR5(4,"br"),t.C$Y()),2&n){const s=t.GaO().ngIf;t.yG2(),t.oRS(" Serveur Started since : ",t.g7$(2,1,t.kDX(3,4,s.running_since),"medium")," ")}}function w(n,c){if(1&n&&(t.SAx(0),t.yuY(1,O,3,1,"span",2),t.wVc(2,"async"),t.yuY(3,$,5,6,"span",2),t.wVc(4,"async"),t.OEk(5),t.wVc(6,"async"),t.wR5(7,"br"),t.k70()),2&n){const s=t.GaO();t.yG2(),t.E7m("ngIf",t.kDX(2,3,s.isServerMonitored$)),t.yG2(2),t.E7m("ngIf",t.kDX(4,5,s.isServerMonitored$)),t.yG2(2),t.oRS(" Nb of players : ",t.kDX(6,7,s.playerCount$),"")}}function k(n,c){1&n&&(t.I0R(0,"h1"),t.OEk(1,"NOT CONNECTED"),t.C$Y())}let Y=(()=>{class n{constructor(s){this.store=s,this.isServerMonitored$=this.store.select(e=>e.pzStore.serverConfig?.pz.monitoring),this.subscription=new G.wH,this.status$=this.store.select(e=>e.pzStore.status),this.playerCount$=this.store.select(e=>e.pzStore.playerCount),this.store.dispatch((0,m.Cl)())}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.subscription.add((0,b.I)(3e4).subscribe(s=>this.store.dispatch((0,m.Cl)())))}static#t=this.\u0275fac=function(e){return new(e||n)(t.GI1(p.m_))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-server-status"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["notconnected",""],[4,"ngIf"]],template:function(e,o){if(1&e&&(t.yuY(0,w,8,9,"ng-container",0),t.wVc(1,"async"),t.yuY(2,k,2,0,"ng-template",null,1,t.gJz)),2&e){const d=t.Gew(3);t.E7m("ngIf",t.kDX(1,2,o.status$))("ngIfElse",d)}},dependencies:[i.u_,i.a,i.y,E]})}return n})();const M=[{path:"",component:(()=>{class n{constructor(){}static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-dashboard"]],decls:25,vars:0,consts:[[1,"row"],[1,"col-lg-5"],[1,"cardWithShadow"],[1,"p-24"],[1,"d-flex","w-100","flex-column"],[1,"col-lg-12"]],template:function(e,o){1&e&&(t.I0R(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),t.OEk(5,"Server Status"),t.C$Y()(),t.I0R(6,"mat-card-content",3)(7,"div",4),t.wR5(8,"app-server-status"),t.C$Y()()()(),t.I0R(9,"div",1)(10,"mat-card",2)(11,"mat-card-header")(12,"mat-card-title"),t.OEk(13,"Server Management"),t.C$Y()(),t.I0R(14,"mat-card-content",3)(15,"div",4),t.wR5(16,"app-stop-start-restart"),t.C$Y()()()(),t.I0R(17,"div",5)(18,"mat-card",2)(19,"mat-card-header")(20,"mat-card-title"),t.OEk(21,"Send Command"),t.C$Y()(),t.I0R(22,"mat-card-content",3)(23,"div",4),t.wR5(24,"app-server-send-command"),t.C$Y()()()()())},dependencies:[u.SM,u.WK,u.Uc,u.gp,v,T,Y],encapsulation:2})}return n})()}];let x=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.a4G({type:n});static#e=this.\u0275inj=t.s3X({imports:[h.qQ.forChild(M),h.qQ]})}return n})();var D=r(5664);let A=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.a4G({type:n});static#e=this.\u0275inj=t.s3X({imports:[i.MD,a.sl,a.y,x,D.y]})}return n})()}}]);