"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[711],{9711:(V,g,s)=>{s.r(g),s.d(g,{SettingsModule:()=>j});var m=s(1368),f=s(5152),t=s(4496),d=s(180),I=s(6928),S=s(6684),u=s(5544),a=s(6504),p=s(2476),r=function(n){return n.server_ini="server_ini",n.lua_sandbox="lua_sandbox",n}(r||{}),h=s(7532),x=s(9040);let C=(()=>{class n{constructor(){this.code=null,this.editorOptions={autoIndent:!0,formatOnPaste:!0,formatOnType:!0,theme:"vs-dark",language:"lua"}}set language(i){this.editorOptions.language=i}writeValue(i){this.code=i}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-lua-editor"]],inputs:{language:"language"},features:[t.M5G([{provide:a.Y6,useExisting:(0,t.wd)(()=>n),multi:!0}])],decls:1,vars:2,consts:[[1,"my-code-editor",3,"options","ngModel","ngModelChange"]],template:function(e,o){1&e&&(t.I0R(0,"ngx-monaco-editor",0),t.qCj("ngModelChange",function(l){return o.onChange(l)}),t.iHE("ngModelChange",function(l){return t.kNx(o.code,l)||(o.code=l),l}),t.C$Y()),2&e&&(t.E7m("options",o.editorOptions),t.OKB("ngModel",o.code))},dependencies:[a.ue,a._G,x.gZ],styles:[".my-code-editor[_ngcontent-%COMP%]{height:calc(100vh - 240px)}"]})}return n})();var E=s(9148),v=s(964),b=s(7816),y=s(1560);let T=(()=>{class n{constructor(i,e){this.store=i,this.fb=e,this.iniForm=this.fb.group({config:["",a.AQ.required]}),this.iniConfig$=null,this.subscription=new I.wH,this.initialConfig=null,this.loading$=this.store.select(o=>o.pzStore.loading)}ngOnInit(){this.iniConfig$=this.store.select(p.w3),this.subscription.add(this.iniConfig$.pipe((0,S.I)(i=>!!i)).subscribe(i=>{this.initialConfig=i,this.iniForm.patchValue({config:i}),p.w3.release()})),this.store.dispatch((0,u.eE)({configType:r.server_ini}))}ngOnDestroy(){this.subscription.unsubscribe()}saveConfig(){this.store.dispatch((0,u.So)({content:this.iniForm.get("config").value,filetype:r.server_ini}))}refreshConfig(){this.iniForm.patchValue({config:this.initialConfig})}static#t=this.\u0275fac=function(e){return new(e||n)(t.GI1(h.m_),t.GI1(a.im))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-ini-server"]],decls:10,vars:4,consts:[[3,"isLoading"],[3,"formGroup"],["mat-icon-button","","type","submit","aria-label","save icon",1,"favorite-icon",3,"disabled","click"],["mat-icon-button","","type","button","aria-label","refresh icon",1,"favorite-icon",3,"click"],["formControlName","config",3,"language"]],template:function(e,o){1&e&&(t.wR5(0,"app-spinner",0),t.I0R(1,"form",1)(2,"mat-toolbar")(3,"button",2),t.qCj("click",function(){return o.saveConfig()}),t.I0R(4,"mat-icon"),t.OEk(5,"save"),t.C$Y()(),t.I0R(6,"button",3),t.qCj("click",function(){return o.refreshConfig()}),t.I0R(7,"mat-icon"),t.OEk(8,"refresh"),t.C$Y()()(),t.wR5(9,"app-lua-editor",4),t.C$Y()),2&e&&(t.E7m("isLoading",o.loading$),t.yG2(),t.E7m("formGroup",o.iniForm),t.yG2(2),t.E7m("disabled",!o.iniForm.valid),t.yG2(6),t.E7m("language","ini"))},dependencies:[C,E.i,a.sz,a.ue,a.u,a.uW,a.Wo,v.EZ,b.um,y.qL]})}return n})();var F=s(9212);function G(n,k){1&n&&(t.SAx(0),t.wR5(1,"app-lua-editor",4),t.k70())}let R=(()=>{class n{constructor(i,e){this.store=i,this.fb=e,this.sandboxSettings$=this.store.select(o=>o.pzStore.lua_sandbox).pipe((0,F.y)(o=>this.iniForm.patchValue({config:o}))),this.iniForm=this.fb.group({config:["",a.AQ.required]}),this.initialConfig=null}ngOnInit(){this.store.dispatch((0,u.eE)({configType:r.lua_sandbox}))}saveConfig(){this.store.dispatch((0,u.So)({content:this.iniForm.get("config").value,filetype:r.lua_sandbox}))}refreshConfig(){this.iniForm.patchValue({config:this.initialConfig})}static#t=this.\u0275fac=function(e){return new(e||n)(t.GI1(h.m_),t.GI1(a.im))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-sandbox-settings"]],decls:10,vars:5,consts:[[3,"formGroup"],["mat-icon-button","","type","submit","aria-label","save icon",1,"favorite-icon",3,"disabled","click"],["mat-icon-button","","type","button","aria-label","refresh icon",1,"favorite-icon",3,"click"],[4,"ngIf"],["formControlName","config"]],template:function(e,o){1&e&&(t.I0R(0,"form",0)(1,"mat-toolbar")(2,"button",1),t.qCj("click",function(){return o.saveConfig()}),t.I0R(3,"mat-icon"),t.OEk(4,"save"),t.C$Y()(),t.I0R(5,"button",2),t.qCj("click",function(){return o.refreshConfig()}),t.I0R(6,"mat-icon"),t.OEk(7,"refresh"),t.C$Y()()(),t.yuY(8,G,2,0,"ng-container",3),t.wVc(9,"async"),t.C$Y()),2&e&&(t.E7m("formGroup",o.iniForm),t.yG2(2),t.E7m("disabled",!o.iniForm.valid),t.yG2(6),t.E7m("ngIf",t.kDX(9,3,o.sandboxSettings$)))},dependencies:[m.u_,C,a.sz,a.ue,a.u,a.uW,a.Wo,v.EZ,b.um,y.qL,m.a]})}return n})();function O(n,k){1&n&&t.wR5(0,"app-sandbox-settings")}const $=[{path:"",component:(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-index"]],decls:5,vars:0,consts:[["label","INI server"],["label","Sandbox LUA"],["matTabContent",""]],template:function(e,o){1&e&&(t.I0R(0,"mat-tab-group")(1,"mat-tab",0),t.wR5(2,"app-ini-server"),t.C$Y(),t.I0R(3,"mat-tab",1),t.yuY(4,O,1,0,"ng-template",2),t.C$Y()())},dependencies:[d.ey,d.aJ,d._q,T,R]})}return n})()}];let M=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.a4G({type:n});static#i=this.\u0275inj=t.s3X({imports:[f.qQ.forChild($),f.qQ]})}return n})();var Y=s(9280),L=s(5664);let j=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.a4G({type:n});static#i=this.\u0275inj=t.s3X({imports:[m.MD,Y.k,a.sl,L.y,M]})}return n})()}}]);